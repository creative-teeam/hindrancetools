<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>子どもの特性・配慮ガイド</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>子どもの特性・配慮ガイド（演劇・ワークショップ向け）</h1>
    <p>障害や病気の特性に応じた基本対策・リスク・チェックリスト・対応フローを確認できます。</p>
  </header>

  <main>
    <!-- 0. 想定外の障害・病気・特性の検索（診断名） -->
    <section class="card">
      <h2>0. 障害・病気・特性の検索（フリーワード）</h2>
      <p>
        ここに診断名・特性名を入力してください。<br />
        例：<span class="example-text">
          自閉スペクトラム症、ADHD、学習障害、境界知能、選択性緘黙、
          発達性協調運動障害、チック、起立性調節障害 など
        </span>
      </p>
      <label for="globalFreeSearch">診断名・特性名：</label>
      <input
        type="text"
        id="globalFreeSearch"
        placeholder="例：自閉スペクトラム症、ADHD、学習障害、境界知能 など"
      />
      <button id="globalFreeSearchBtn">対処の考え方を表示</button>

      <div id="globalFreeSearchResult" class="info-block hidden"></div>
    </section>

    <!-- 1. 代表的な障害・病気・特性を選ぶ -->
    <section class="card">
      <h2>1. 代表的な障害・病気・特性を選ぶ</h2>
      <p>よくある代表的なケースは、ここから選択して対処法を見られます。</p>

      <label for="conditionSelect">障害・病気・特性：</label>
      <select id="conditionSelect">
        <option value="">選択してください</option>
        <option value="asd">自閉スペクトラム症（ASD）</option>
        <option value="adhd">ADHD（注意欠如・多動症）</option>
        <option value="intellectual">知的障害</option>
        <option value="epilepsy">てんかん</option>
        <option value="allergy">重度アレルギー（食物・薬・ハチなど）</option>
        <option value="mental">不安障害・うつなどのメンタル面の課題</option>
        <option value="none">特に診断名はないが、配慮が必要そう</option>
      </select>

      <div id="conditionInfo" class="info-block hidden">
        <h3>基本情報・対策・リスク</h3>
        <div id="basicMeasures"></div>
        <div id="risks"></div>
        <div id="specialMeasures"></div>
      </div>
    </section>

    <!-- 2. 親の付き添い必須ラインチェックリスト -->
    <section class="card">
      <h2>2. 親の付き添い必須ラインチェックリスト</h2>
      <p>
        日常生活と学校生活の様子をもとに、付き添いが必要かどうかの目安を確認します。<br />
        必要に応じて、下のボタンから項目を追加できます。
      </p>

      <div class="checklist-container">
        <div class="checklist-block">
          <h3>日常生活での様子</h3>
          <form id="dailyChecklist">
            <label>
              <input type="checkbox" name="daily" value="danger" />
              目を離すとすぐにどこかへ行ってしまう・迷子になりやすい
            </label>
            <label>
              <input type="checkbox" name="daily" value="danger" />
              危険な場所（道路・高いところ・台所など）に繰り返し行ってしまう
            </label>
            <label>
              <input type="checkbox" name="daily" value="support" />
              知らない人との距離感が近すぎる・身体に触ってしまう
            </label>
            <label>
              <input type="checkbox" name="daily" value="support" />
              強いこだわりやパニックがあり、家族でないと落ち着かせるのが難しい
            </label>
            <label>
              <input type="checkbox" name="daily" value="medical" />
              発作やアレルギーなど、医療的な緊急対応が必要になる可能性がある
            </label>
          </form>
          <button id="addDailyItemBtn" class="sub-btn">日常生活の項目を追加</button>
        </div>

        <div class="checklist-block">
          <h3>学校生活・集団活動での様子</h3>
          <form id="schoolChecklist">
            <label>
              <input type="checkbox" name="school" value="support" />
              授業中に席を立って歩き回ることがよくある
            </label>
            <label>
              <input type="checkbox" name="school" value="support" />
              先生から「1対1のサポートがあると安心」と言われている
            </label>
            <label>
              <input type="checkbox" name="school" value="danger" />
              他の子を押す・叩く・強く抱きつくなどの行動が繰り返し見られる
            </label>
            <label>
              <input type="checkbox" name="school" value="support" />
              からかわれやすい／トラブルに巻き込まれやすいと言われている
            </label>
            <label>
              <input type="checkbox" name="school" value="medical" />
              学校で医療的ケア（発作対応・エピペン・吸入など）の準備をしている
            </label>
          </form>
          <button id="addSchoolItemBtn" class="sub-btn">学校生活の項目を追加</button>
        </div>
      </div>

      <button id="evaluateChecklist">付き添いの必要度を判定</button>
      <div id="checklistResult" class="info-block hidden"></div>
    </section>

    <!-- 3. その場の対応フロー -->
    <section class="card">
      <h2>3. その場の対応フロー</h2>
      <p>
        トラブルや心配な行動が出たときに、状況に応じて流れを確認できます。<br />
        必要に応じて、対応手順を自分でメモとして追加できます。
      </p>

      <label for="incidentType">状況を選んでください：</label>
      <select id="incidentType">
        <option value="">選択してください</option>
        <option value="immediateDanger">
          身体の危険がある（押す・叩く・走り出す・危険な場所）
        </option>
        <option value="psychological">
          他の子が怖がっている・強い不安を感じている
        </option>
        <option value="ruleBreak">
          ルール違反が何度も続いている
        </option>
        <option value="medicalEmergency">
          発作・アレルギー症状など医療的な緊急事態
        </option>
      </select>

      <div id="incidentFlow" class="info-block hidden"></div>

      <div class="custom-incident">
        <label for="customIncidentText">
          追記したい対応手順・注意点（自由記述）：
        </label>
        <textarea
          id="customIncidentText"
          rows="3"
          placeholder="例：この子の場合は、パニック時に〇〇さんが声をかける／先に他の子を別室に移動させる など"
        ></textarea>
        <button id="addIncidentNoteBtn" class="sub-btn">
          対応フローに追記
        </button>
      </div>
    </section>

    <!-- 4. メモ欄 -->
    <section class="card">
      <h2>4. メモ欄（団体ごとのルール・気づきの記録）</h2>
      <p>
        稽古や本番で気づいたこと、保護者と話して決めたルールなどを自由にメモしてください。<br />
        ※ブラウザを閉じると消えるので、必要に応じてコピーして他の場所に保存してください。
      </p>
      <label for="freeMemo">自由メモ：</label>
      <textarea
        id="freeMemo"
        rows="6"
        placeholder="例：〇月〇日 初参加。○○の場面でパニックになりかけたが、□□の声かけで落ち着いた。次回も同じ対応を試してみる。"
      ></textarea>
    </section>
  </main>

  <footer>
    <p>
      ※このツールは現場スタッフの話し合いのたたき台として設計されています。
      実際の運用は必ず団体内で検討・調整してください。
    </p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
